name: 'Report macOS'

on:
  workflow_run:
    workflows: ['macOS']                  # runs after CI workflow
    types:
      - completed
jobs:
  report:
    runs-on: ubuntu-latest
    permissions:
      actions: read                       # Allow reading actions
      checks: write                       # Allow creating check runs
    steps:
    - name: Publish Test Report
      uses: dorny/test-reporter@v1
      with:
        # Match artifact from the specific attempt that triggered this report
        artifact: Trick_macos_attempt_${{ github.event.workflow_run.run_attempt }}
        name: Results_Trick_macos         # Name of the check run which will be created
        path: '*.xml'                     # Path to test results (inside the artifact .zip)
        reporter: java-junit              # Format of test results
